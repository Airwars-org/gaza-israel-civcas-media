import{s as x,n as $,x as J,r as ae,b as ne,o as se}from"../chunks/scheduler.W2pu3yam.js";import{S as H,i as A,e as w,b as I,s as D,c as k,d as E,f as P,g,h as T,o as _,j as b,k as v,l as q,y as re,z as j,A as B,t as C,q as z,a as y,n as M,u as Q,m as S,v as F,w as G,x as O}from"../chunks/index.CpA8qgUW.js";import{w as ie}from"../chunks/index.CsZRq24C.js";const oe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function N(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function K(i,e,n){const l=i.slice();return l[1]=e[n],l}function W(i){let e,n,l,t,c,r,s;return{c(){e=w("div"),n=w("img"),c=D(),this.h()},l(a){e=k(a,"DIV",{class:!0});var h=E(e);n=k(h,"IMG",{class:!0,src:!0,alt:!0}),c=T(h),h.forEach(g),this.h()},h(){_(n,"class","blurred svelte-1r3una7"),J(n.src,l=i[1].url)||_(n,"src",l),_(n,"alt",t=i[1].title),_(e,"class","media svelte-1r3una7")},m(a,h){b(a,e,h),v(e,n),v(e,c),r||(s=[j(n,"click",X),j(n,"keydown",X)],r=!0)},p(a,h){h&1&&!J(n.src,l=a[1].url)&&_(n,"src",l),h&1&&t!==(t=a[1].title)&&_(n,"alt",t)},d(a){a&&g(e),r=!1,ae(s)}}}function ce(i){let e,n,l=i[0].title.replace("&#8211;","")+"",t,c,r,s,a,h,o,d=N(i[0].media),m=[];for(let u=0;u<d.length;u+=1)m[u]=W(K(i,d,u));return{c(){e=w("section"),n=w("h1"),t=I(l),c=D(),r=w("a"),s=I("Source ↗"),h=D(),o=w("div");for(let u=0;u<m.length;u+=1)m[u].c();this.h()},l(u){e=k(u,"SECTION",{class:!0});var f=E(e);n=k(f,"H1",{class:!0});var p=E(n);t=P(p,l),p.forEach(g),c=T(f),r=k(f,"A",{href:!0,target:!0,class:!0});var L=E(r);s=P(L,"Source ↗"),L.forEach(g),h=T(f),o=k(f,"DIV",{class:!0});var U=E(o);for(let V=0;V<m.length;V+=1)m[V].l(U);U.forEach(g),f.forEach(g),this.h()},h(){_(n,"class","svelte-1r3una7"),_(r,"href",a=i[0].link),_(r,"target","_blank"),_(r,"class","svelte-1r3una7"),_(o,"class","medias svelte-1r3una7"),_(e,"class","svelte-1r3una7")},m(u,f){b(u,e,f),v(e,n),v(n,t),v(e,c),v(e,r),v(r,s),v(e,h),v(e,o);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(o,null)},p(u,[f]){if(f&1&&l!==(l=u[0].title.replace("&#8211;","")+"")&&q(t,l),f&1&&a!==(a=u[0].link)&&_(r,"href",a),f&1){d=N(u[0].media);let p;for(p=0;p<d.length;p+=1){const L=K(u,d,p);m[p]?m[p].p(L,f):(m[p]=W(L),m[p].c(),m[p].m(o,null))}for(;p<m.length;p+=1)m[p].d(1);m.length=d.length}},i:$,o:$,d(u){u&&g(e),re(m,u)}}}function X(i){i.target.classList.toggle("blurred")}function fe(i,e,n){let{data:l}=e;return i.$$set=t=>{"data"in t&&n(0,l=t.data)},[l]}class ue extends H{constructor(e){super(),A(this,e,fe,ce,x,{data:0})}}const R=ie("");function he(i){let e,n,l;return{c(){e=w("input"),this.h()},l(t){e=k(t,"INPUT",{type:!0,name:!0,autocomplete:!0}),this.h()},h(){_(e,"type","text"),_(e,"name","search"),_(e,"autocomplete","off")},m(t,c){b(t,e,c),n||(l=j(e,"input",i[0]),n=!0)},p:$,i:$,o:$,d(t){t&&g(e),n=!1,l()}}}function de(i){function e(n){R.set(n.target.value)}return[e]}class me extends H{constructor(e){super(),A(this,e,de,he,x,{})}}function Y(i){let e,n=`The search input allows results to be filtered by the terms
                mentioned in the full reports of each civcas.`,l,t,c,r,s=i[0].length+"",a,h,o,d,m;t=new me({});let u=i[2].length>=4&&Z(i);return{c(){e=w("p"),e.textContent=n,l=D(),Q(t.$$.fragment),c=D(),r=w("p"),a=I(s),h=I(" results"),o=D(),u&&u.c(),d=S()},l(f){e=k(f,"P",{"data-svelte-h":!0}),B(e)!=="svelte-18hl8z5"&&(e.textContent=n),l=T(f),F(t.$$.fragment,f),c=T(f),r=k(f,"P",{});var p=E(r);a=P(p,s),h=P(p," results"),p.forEach(g),o=T(f),u&&u.l(f),d=S()},m(f,p){b(f,e,p),b(f,l,p),G(t,f,p),b(f,c,p),b(f,r,p),v(r,a),v(r,h),b(f,o,p),u&&u.m(f,p),b(f,d,p),m=!0},p(f,p){(!m||p&1)&&s!==(s=f[0].length+"")&&q(a,s),f[2].length>=4?u?u.p(f,p):(u=Z(f),u.c(),u.m(d.parentNode,d)):u&&(u.d(1),u=null)},i(f){m||(C(t.$$.fragment,f),m=!0)},o(f){y(t.$$.fragment,f),m=!1},d(f){f&&(g(e),g(l),g(c),g(r),g(o),g(d)),O(t,f),u&&u.d(f)}}}function Z(i){let e,n,l,t;return{c(){e=w("p"),n=I('Filtering assesments containing the word: "'),l=I(i[2]),t=I('"')},l(c){e=k(c,"P",{});var r=E(e);n=P(r,'Filtering assesments containing the word: "'),l=P(r,i[2]),t=P(r,'"'),r.forEach(g)},m(c,r){b(c,e,r),v(e,n),v(e,l),v(e,t)},p(c,r){r&4&&q(l,c[2])},d(c){c&&g(e)}}}function pe(i){let e,n,l=`<p>This web page collects all images from Airwars assessments of the
            <a href="https://airwars.org/conflict/israel-and-gaza-2023/">Israeli and Gaza conflict 2023</a>. Due to the graphic content, all the images are blurred. By
            clicking on each image it is possible to unobscure them.</p>`,t,c,r,s=i[1].length>0&&Y(i);return{c(){e=w("section"),n=w("div"),n.innerHTML=l,t=D(),c=w("div"),s&&s.c(),this.h()},l(a){e=k(a,"SECTION",{class:!0});var h=E(e);n=k(h,"DIV",{class:!0,"data-svelte-h":!0}),B(n)!=="svelte-1sww1ot"&&(n.innerHTML=l),t=T(h),c=k(h,"DIV",{class:!0});var o=E(c);s&&s.l(o),o.forEach(g),h.forEach(g),this.h()},h(){_(n,"class","intro svelte-18rxggk"),_(c,"class","search svelte-18rxggk"),_(e,"class","svelte-18rxggk")},m(a,h){b(a,e,h),v(e,n),v(e,t),v(e,c),s&&s.m(c,null),r=!0},p(a,[h]){a[1].length>0?s?(s.p(a,h),h&2&&C(s,1)):(s=Y(a),s.c(),C(s,1),s.m(c,null)):s&&(z(),y(s,1,1,()=>{s=null}),M())},i(a){r||(C(s),r=!0)},o(a){y(s),r=!1},d(a){a&&g(e),s&&s.d()}}}function ge(i,e,n){let l;ne(i,R,r=>n(2,l=r));let{filteredData:t}=e,{data:c}=e;return i.$$set=r=>{"filteredData"in r&&n(0,t=r.filteredData),"data"in r&&n(1,c=r.data)},[t,c,l]}class _e extends H{constructor(e){super(),A(this,e,ge,pe,x,{filteredData:0,data:1})}}const{Boolean:ve}=oe;function ee(i,e,n){const l=i.slice();return l[4]=e[n],l}function be(i){let e,n,l=N(i[2]),t=[];for(let r=0;r<l.length;r+=1)t[r]=te(ee(i,l,r));const c=r=>y(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=S()},l(r){for(let s=0;s<t.length;s+=1)t[s].l(r);e=S()},m(r,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(r,s);b(r,e,s),n=!0},p(r,s){if(s&4){l=N(r[2]);let a;for(a=0;a<l.length;a+=1){const h=ee(r,l,a);t[a]?(t[a].p(h,s),C(t[a],1)):(t[a]=te(h),t[a].c(),C(t[a],1),t[a].m(e.parentNode,e))}for(z(),a=l.length;a<t.length;a+=1)c(a);M()}},i(r){if(!n){for(let s=0;s<l.length;s+=1)C(t[s]);n=!0}},o(r){t=t.filter(ve);for(let s=0;s<t.length;s+=1)y(t[s]);n=!1},d(r){r&&g(e),re(t,r)}}}function we(i){let e,n="Loading Images...";return{c(){e=w("p"),e.textContent=n},l(l){e=k(l,"P",{"data-svelte-h":!0}),B(e)!=="svelte-1dtlmvw"&&(e.textContent=n)},m(l,t){b(l,e,t)},p:$,i:$,o:$,d(l){l&&g(e)}}}function ke(i){let e,n="Loading CIVCAS...";return{c(){e=w("p"),e.textContent=n},l(l){e=k(l,"P",{"data-svelte-h":!0}),B(e)!=="svelte-txfig3"&&(e.textContent=n)},m(l,t){b(l,e,t)},p:$,i:$,o:$,d(l){l&&g(e)}}}function te(i){let e,n;return e=new ue({props:{data:i[4]}}),{c(){Q(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,t){G(e,l,t),n=!0},p(l,t){const c={};t&4&&(c.data=l[4]),e.$set(c)},i(l){n||(C(e.$$.fragment,l),n=!0)},o(l){y(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function $e(i){let e,n,l,t,c,r;e=new _e({props:{filteredData:i[2],data:i[0]}});const s=[ke,we,be],a=[];function h(o,d){return o[1].length===0?0:o[0].length===0?1:2}return l=h(i),t=a[l]=s[l](i),{c(){Q(e.$$.fragment),n=D(),t.c(),c=S()},l(o){F(e.$$.fragment,o),n=T(o),t.l(o),c=S()},m(o,d){G(e,o,d),b(o,n,d),a[l].m(o,d),b(o,c,d),r=!0},p(o,[d]){const m={};d&4&&(m.filteredData=o[2]),d&1&&(m.data=o[0]),e.$set(m);let u=l;l=h(o),l===u?a[l].p(o,d):(z(),y(a[u],1,1,()=>{a[u]=null}),M(),t=a[l],t?t.p(o,d):(t=a[l]=s[l](o),t.c()),C(t,1),t.m(c.parentNode,c))},i(o){r||(C(e.$$.fragment,o),C(t),r=!0)},o(o){y(e.$$.fragment,o),y(t),r=!1},d(o){o&&(g(n),g(c)),O(e,o),a[l].d(o)}}}const Ce="https://airwars.org/wp-json/wp/v2/civ?conflict=93644",le=25;function Ee(i,e,n){let l;ne(i,R,s=>n(3,l=s));let t=[],c=[],r=[];return se(async()=>{n(1,c=await s(`${Ce}&per_page=${le}`));async function s(a){let h=1,o=[];for(;h!=8;)try{const d=await fetch(`${a}&page=${h}`);if(!d.ok)throw new Error(`HTTP error! Status: ${d.status}`);const m=await d.json();if(m.length>0)o.push(...m),h++;else break}catch(d){console.error("Error fetching data:",d);break}return o.map(d=>({...d})).sort((d,m)=>m.count-d.count)}n(0,t=await Promise.all(c.map(async a=>{var h;try{const o=await fetch(`${(h=a._links["wp:attachment"])==null?void 0:h[0].href}&per_page=${le}`);if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);const d=await o.json();return{id:a.id,title:a.title.rendered,slug:a.slug,content:a.content.rendered,link:a.link,media:d.map(m=>({url:m.source_url,link:m.link,title:m.title.rendered}))}}catch(o){return console.error("Error fetching media data:",o),null}}).filter(Boolean))),console.log(t)}),i.$$.update=()=>{i.$$.dirty&9&&n(2,r=l.length>=4&t.length>0?t.filter(s=>s.content.toLowerCase().includes(l.toLowerCase())):t)},[t,c,r,l]}class Ie extends H{constructor(e){super(),A(this,e,Ee,$e,x,{})}}export{Ie as component};
